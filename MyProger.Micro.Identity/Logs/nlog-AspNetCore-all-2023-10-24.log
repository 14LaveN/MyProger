2023-10-24 17:00:49.6693|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:00:49.9543|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:00:49.9543|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:00:49.9543|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:00:50.0175|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:00:50.0175|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:00:50.1010|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:00:50.1157|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:00:50.1157|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:00:50.1157|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:00:50.1157|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:00:50.1157|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:00:50.2215|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:01:04.8845|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:01:05.1555|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:01:05.1555|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:01:05.1555|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:01:05.2113|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:01:05.2113|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:01:05.2939|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:01:05.3025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:01:05.3224|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (18ms). 
2023-10-24 17:01:05.3224|0|DEBUG|Microsoft.EntityFrameworkCore.Migrations|Migrating using database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.3224|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.4312|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.4312|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.4312|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:01:05.4312|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'. 
2023-10-24 17:01:05.4440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (2ms). 
2023-10-24 17:01:05.4440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteScalar' (4ms). 
2023-10-24 17:01:05.4440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.4814|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.4814|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) 
2023-10-24 17:01:05.5057|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) 
2023-10-24 17:01:05.5057|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.5057|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:05.5057|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.5321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.5321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.5321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:05.5730|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:05.5730|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:05.5730|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:05.5730|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.5730|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.5730|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
); 
2023-10-24 17:01:05.7286|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (155ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
); 
2023-10-24 17:01:05.7286|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.7286|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:05.7286|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms). 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteScalar' (0ms). 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) 
2023-10-24 17:01:05.8615|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.8615|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId"; 
2023-10-24 17:01:05.8654|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId"; 
2023-10-24 17:01:05.8654|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.8654|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 1ms reading results. 
2023-10-24 17:01:05.8654|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.8654|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:05.8654|0|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20231024110050_Initial'. 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:05.9025|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(256) NULL,
    "NormalizedName" character varying(256) NULL,
    "ConcurrencyStamp" text NULL,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
); 
2023-10-24 17:01:05.9860|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (79ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(256) NULL,
    "NormalizedName" character varying(256) NULL,
    "ConcurrencyStamp" text NULL,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
); 
2023-10-24 17:01:05.9860|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:05.9860|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:05.9860|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:05.9860|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Firstname" text NULL,
    "Lastname" text NULL,
    "Email" character varying(256) NULL,
    "Patronymic" text NULL,
    "BirthDate" timestamp with time zone NULL,
    "RefreshToken" text NULL,
    "UserName" character varying(256) NULL,
    "NormalizedUserName" character varying(256) NULL,
    "NormalizedEmail" character varying(256) NULL,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text NULL,
    "SecurityStamp" text NULL,
    "ConcurrencyStamp" text NULL,
    "PhoneNumber" text NULL,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone NULL,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
); 
2023-10-24 17:01:06.0445|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Firstname" text NULL,
    "Lastname" text NULL,
    "Email" character varying(256) NULL,
    "Patronymic" text NULL,
    "BirthDate" timestamp with time zone NULL,
    "RefreshToken" text NULL,
    "UserName" character varying(256) NULL,
    "NormalizedUserName" character varying(256) NULL,
    "NormalizedEmail" character varying(256) NULL,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text NULL,
    "SecurityStamp" text NULL,
    "ConcurrencyStamp" text NULL,
    "PhoneNumber" text NULL,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone NULL,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
); 
2023-10-24 17:01:06.0445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.0445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.0445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.0445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Scopes" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Scopes" PRIMARY KEY ("Id")
); 
2023-10-24 17:01:06.1114|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Scopes" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Scopes" PRIMARY KEY ("Id")
); 
2023-10-24 17:01:06.1114|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.1114|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.1114|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.1114|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" bigint NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.1719|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" bigint NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.1719|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.1719|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.1719|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.1719|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" bigint NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.2287|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" bigint NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.2287|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.2287|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.2287|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.2287|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.2873|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.2873|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.2873|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.2873|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.2873|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.3155|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.3155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.3155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.3155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.3155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" bigint NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.3739|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" bigint NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.3739|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.3739|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.3739|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.3739|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AppUserScopeEntity" (
    "ScopesId" bigint NOT NULL,
    "UsersId" bigint NOT NULL,
    CONSTRAINT "PK_AppUserScopeEntity" PRIMARY KEY ("ScopesId", "UsersId"),
    CONSTRAINT "FK_AppUserScopeEntity_AspNetUsers_UsersId" FOREIGN KEY ("UsersId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AppUserScopeEntity_Scopes_ScopesId" FOREIGN KEY ("ScopesId") REFERENCES "Scopes" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.4045|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "AppUserScopeEntity" (
    "ScopesId" bigint NOT NULL,
    "UsersId" bigint NOT NULL,
    CONSTRAINT "PK_AppUserScopeEntity" PRIMARY KEY ("ScopesId", "UsersId"),
    CONSTRAINT "FK_AppUserScopeEntity_AspNetUsers_UsersId" FOREIGN KEY ("UsersId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AppUserScopeEntity_Scopes_ScopesId" FOREIGN KEY ("ScopesId") REFERENCES "Scopes" ("Id") ON DELETE CASCADE
); 
2023-10-24 17:01:06.4045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.4045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AppUserScopeEntity_UsersId" ON "AppUserScopeEntity" ("UsersId"); 
2023-10-24 17:01:06.4316|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AppUserScopeEntity_UsersId" ON "AppUserScopeEntity" ("UsersId"); 
2023-10-24 17:01:06.4316|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.4316|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4316|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4316|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId"); 
2023-10-24 17:01:06.4624|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId"); 
2023-10-24 17:01:06.4624|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.4624|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4624|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4624|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName"); 
2023-10-24 17:01:06.4901|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName"); 
2023-10-24 17:01:06.4901|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.4901|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4901|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.4901|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId"); 
2023-10-24 17:01:06.5208|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId"); 
2023-10-24 17:01:06.5208|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.5208|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.5208|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.5208|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId"); 
2023-10-24 17:01:06.5484|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId"); 
2023-10-24 17:01:06.5484|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.5484|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.5484|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.5484|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId"); 
2023-10-24 17:01:06.5794|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId"); 
2023-10-24 17:01:06.5794|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.5794|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.5794|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.5794|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail"); 
2023-10-24 17:01:06.6066|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail"); 
2023-10-24 17:01:06.6066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.6066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.6066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.6066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName"); 
2023-10-24 17:01:06.6294|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName"); 
2023-10-24 17:01:06.6294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'. 
2023-10-24 17:01:06.6294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.6294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteNonQuery' (0ms). 
2023-10-24 17:01:06.6294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231024110050_Initial', '7.0.12'); 
2023-10-24 17:01:06.6306|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231024110050_Initial', '7.0.12'); 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:06.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:29.9641|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:01:30.0325|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:01:30.0544|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:01:30.0544|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:01:30.0544|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:01:30.0544|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:01:30.0544|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:01:30.0725|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:01:30.0725|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:01:30.0725|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:01:30.0725|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:01:30.0725|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:01:30.0725|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:01:30.0840|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:01:30.0840|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:01:30.2354|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:01:30.2534|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:01:30.2534|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:01:30.2534|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:01:30.2534|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:01:30.2554|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG29ROL6R" received FIN. 
2023-10-24 17:01:30.2554|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6R" accepted. 
2023-10-24 17:01:30.2554|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6R" started. 
2023-10-24 17:01:30.2554|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:01:30.2554|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:01:30.2739|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:01:30.2984|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6R" stopped. 
2023-10-24 17:01:30.2984|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG29ROL6R" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:01:30.4318|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6S" accepted. 
2023-10-24 17:01:30.4318|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6S" started. 
2023-10-24 17:01:30.4318|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6T" accepted. 
2023-10-24 17:01:30.4318|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6T" started. 
2023-10-24 17:01:30.4723|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG29ROL6S" received FIN. 
2023-10-24 17:01:30.4898|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKG29ROL6T established using the following protocol: Tls13 
2023-10-24 17:01:30.4898|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKG29ROL6S established using the following protocol: Tls13 
2023-10-24 17:01:30.5134|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6S" is closed. The last processed stream ID was 0. 
2023-10-24 17:01:30.5134|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG29ROL6S" sending FIN because: "The client closed the connection." 
2023-10-24 17:01:30.5134|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:01:30.5134|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HMUKG29ROL6S completed. 
2023-10-24 17:01:30.5134|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:01:30.5134|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG29ROL6S" stopped. 
2023-10-24 17:01:30.5134|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:01:30.5134|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:01:30.5134|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:01:30.5134|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" received HEADERS frame for stream ID 1 with length 1611 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:01:30.5345|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:01:30.5525|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger - - 
2023-10-24 17:01:30.5525|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:01:30.5525|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:01:30.7020|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:01:31.1615|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:01:31.1615|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:01:31.1615|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:01:31.2400|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:01:31.2400|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:01:31.4574|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:01:31.4807|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:01:31.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:01:31.6362|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:01:31.6362|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:01:31.6672|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (27ms). 
2023-10-24 17:01:31.6672|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (35ms). 
2023-10-24 17:01:31.6672|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (37ms). 
2023-10-24 17:01:31.6672|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:31.8377|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:31.8502|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:01:31.8787|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:01:31.8874|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:31.8874|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 10ms reading results. 
2023-10-24 17:01:31.8967|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:31.8967|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:01:31.9340|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:31.9829|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:01:31.9901|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:01:31.9901|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:01:32.0479|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 8 update commands as a batch. 
2023-10-24 17:01:32.0522|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:32.0522|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:32.0522|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:01:32.0522|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:01:32.0522|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:01:32.0522|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:01:32.0522|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:01:32.0737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = DateTime), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p2, @p3)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p4, @p5)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p6, @p7)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p8, @p9)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p10, @p11)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p12, @p13)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p14, @p15)
RETURNING "Id"; 
2023-10-24 17:01:32.1011|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = DateTime), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p2, @p3)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p4, @p5)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p6, @p7)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p8, @p9)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p10, @p11)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p12, @p13)
RETURNING "Id";
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p14, @p15)
RETURNING "Id"; 
2023-10-24 17:01:32.1011|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1011|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 15ms reading results. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:32.1142|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:01:32.1312|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 8 entities written to the database. 
2023-10-24 17:01:32.2383|0|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.IO.FileNotFoundException: Could not find file 'E:\DotNetProjects\MyProger\MyProger.Micro.Identity\bin\Debug\net7.0\MyProger.Micro.Identity.xml'.
File name: 'E:\DotNetProjects\MyProger\MyProger.Micro.Identity\bin\Debug\net7.0\MyProger.Micro.Identity.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass32_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at MyProger.Micro.Identity.Configurations.SwaggerConfiguration.<>c.<AddSwachbackleService>b__0_0(SwaggerGenOptions options) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Configurations\SwaggerConfiguration.cs:line 42
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.ConstructorInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method2(Closure, Object, HttpContext, IServiceProvider)
   at MyProger.Micro.Identity.Middlewares.SeedMiddleware.Invoke(HttpContext context, DataSeeder seeder) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Middlewares\SeedMiddleware.cs:line 15
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-24 17:01:32.3007|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending HEADERS frame for stream ID 1 with length 67 and flags END_HEADERS. 
2023-10-24 17:01:32.3007|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending DATA frame for stream ID 1 with length 16384 and flags NONE. 
2023-10-24 17:01:32.3007|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending DATA frame for stream ID 1 with length 16384 and flags NONE. 
2023-10-24 17:01:32.3007|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending DATA frame for stream ID 1 with length 16384 and flags NONE. 
2023-10-24 17:01:32.3007|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending DATA frame for stream ID 1 with length 1025 and flags NONE. 
2023-10-24 17:01:32.3047|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:01:32.3047|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:01:32.3047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:32.3047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (1ms). 
2023-10-24 17:01:32.3047|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger - - - 500 - text/html;+charset=utf-8 1760.4378ms 
2023-10-24 17:01:32.4444|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" received HEADERS frame for stream ID 3 with length 133 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:01:32.4444|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/favicon.ico - - 
2023-10-24 17:01:32.4444|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:01:32.4589|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:01:32.4589|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:32.4877|0|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.IO.FileNotFoundException: Could not find file 'E:\DotNetProjects\MyProger\MyProger.Micro.Identity\bin\Debug\net7.0\MyProger.Micro.Identity.xml'.
File name: 'E:\DotNetProjects\MyProger\MyProger.Micro.Identity\bin\Debug\net7.0\MyProger.Micro.Identity.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass32_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at MyProger.Micro.Identity.Configurations.SwaggerConfiguration.<>c.<AddSwachbackleService>b__0_0(SwaggerGenOptions options) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Configurations\SwaggerConfiguration.cs:line 42
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Object, IntPtr*)
   at System.Reflection.ConstructorInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method2(Closure, Object, HttpContext, IServiceProvider)
   at MyProger.Micro.Identity.Middlewares.SeedMiddleware.Invoke(HttpContext context, DataSeeder seeder) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Middlewares\SeedMiddleware.cs:line 15
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-24 17:01:32.4935|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending HEADERS frame for stream ID 3 with length 30 and flags END_HEADERS. 
2023-10-24 17:01:32.4935|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending DATA frame for stream ID 3 with length 10198 and flags NONE. 
2023-10-24 17:01:32.4935|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:01:32.4935|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG29ROL6T" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:01:32.4935|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:01:32.4935|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:01:32.4935|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/favicon.ico - - - 500 - text/plain;+charset=utf-8 47.9789ms 
2023-10-24 17:03:00.3084|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:03:00.3752|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:03:00.3978|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:03:00.3978|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:03:00.3978|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:03:00.3978|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:03:00.3978|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:03:00.4121|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:03:00.5814|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:03:00.5968|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:03:00.5968|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:03:00.5968|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:03:00.5968|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:03:00.5968|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:03:00.5968|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:03:01.0264|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG34TDODA" received FIN. 
2023-10-24 17:03:01.0264|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG34TDODA" accepted. 
2023-10-24 17:03:01.0264|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG34TDODA" started. 
2023-10-24 17:03:01.0447|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:03:01.0724|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG34TDODA" stopped. 
2023-10-24 17:03:01.0724|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG34TDODA" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:03:01.1374|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG34TDODB" accepted. 
2023-10-24 17:03:01.1374|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG34TDODB" started. 
2023-10-24 17:03:01.1745|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKG34TDODB established using the following protocol: Tls13 
2023-10-24 17:03:01.1983|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:03:01.1983|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:03:01.1983|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:03:01.1983|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:03:01.1983|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:03:01.1983|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 1 with length 1611 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:03:01.2102|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:03:01.2256|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger - - 
2023-10-24 17:03:01.2256|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:03:01.2256|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:03:01.3628|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:03:01.7754|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:03:01.7754|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:03:01.7754|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:03:01.8540|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:03:01.8540|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:03:01.9826|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:03:02.0021|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:03:02.1155|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:03:02.1354|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:03:02.1354|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:03:02.1607|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-24 17:03:02.1650|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-24 17:03:02.1650|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (32ms). 
2023-10-24 17:03:02.1650|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.2917|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.2917|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.3227|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.3227|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.3375|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:03:02.3375|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.3375|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:03:02.4130|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:03:02.4130|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 1 with length 69 and flags END_STREAM, END_HEADERS. 
2023-10-24 17:03:02.4130|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.4130|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 3 with length 43 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:03:02.4130|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (2ms). 
2023-10-24 17:03:02.4130|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:03:02.4130|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:03:02.4130|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger - - - 301 0 - 1194.9967ms 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.4282|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.4282|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.5025|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 3 with length 28 and flags END_HEADERS. 
2023-10-24 17:03:02.5025|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 3 with length 4758 and flags NONE. 
2023-10-24 17:03:02.5078|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:03:02.5078|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:03:02.5078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.5078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.5078|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 88.9519ms 
2023-10-24 17:03:02.5527|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 5 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:03:02.5527|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 7 with length 59 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:03:02.5527|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/swagger-ui.css - - 
2023-10-24 17:03:02.5527|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:03:02.5527|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 9 with length 57 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:03:02.5527|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/swagger-ui-bundle.js - - 
2023-10-24 17:03:02.5527|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:03:02.5527|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/swagger-ui-standalone-preset.js - - 
2023-10-24 17:03:02.5527|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.5738|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.5738|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.5964|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 21ms reading results. 
2023-10-24 17:03:02.5964|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.5964|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.6004|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2023-10-24 17:03:02.6004|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 9 with length 116 and flags END_HEADERS. 
2023-10-24 17:03:02.6004|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6004|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6004|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6004|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6004|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.6148|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.6148|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 7 with length 35 and flags END_HEADERS. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 5 with length 43 and flags END_HEADERS. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 867 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6148|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A' 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 76.5723ms 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 9 with length 0 and flags END_STREAM. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 13857 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A' 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.6313|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/swagger-ui.css - - - 200 144929 text/css 78.3070ms 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 12960 and flags NONE. 
2023-10-24 17:03:02.6313|0|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A' 
2023-10-24 17:03:02.6313|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 7 with length 0 and flags END_STREAM. 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.6313|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.6313|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 87.6288ms 
2023-10-24 17:03:02.7668|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 11 with length 73 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:03:02.7668|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:03:02.7668|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.7668|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.7668|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.7929|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 13 with length 103 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:03:02.7929|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/favicon-32x32.png - - 
2023-10-24 17:03:02.7929|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.7929|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.7929|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2023-10-24 17:03:02.7929|0|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A' 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.7929|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 13 with length 41 and flags END_HEADERS. 
2023-10-24 17:03:02.7929|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.7929|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 13 with length 628 and flags NONE. 
2023-10-24 17:03:02.7929|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/favicon-32x32.png - - - 200 628 image/png 1.7900ms 
2023-10-24 17:03:02.7929|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 13 with length 0 and flags END_STREAM. 
2023-10-24 17:03:02.8694|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 11 with length 35 and flags END_HEADERS. 
2023-10-24 17:03:02.8694|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 11 with length 6125 and flags NONE. 
2023-10-24 17:03:02.8694|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:03:02.8694|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 11 with length 0 and flags END_STREAM. 
2023-10-24 17:03:02.8694|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:03:02.8694|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:03:02.8694|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.2420ms 
2023-10-24 17:04:02.8885|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 15 with length 90 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:04:02.8885|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:04:02.8885|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 230 
2023-10-24 17:04:02.8885|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:04:02.8885|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:04:02.8885|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received DATA frame for stream ID 15 with length 230 and flags END_STREAM. 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:02.8885|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:04:02.8959|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:04:02.8959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:02.8959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:04:02.8959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:02.8959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:02.8959|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:04:02.8959|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:04:02.9184|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:04:02.9184|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:04:02.9184|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:04:02.9801|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:04:02.9801|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:04:02.9940|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:04:02.9940|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:04:02.9940|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:04:02.9940|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:04:02.9940|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:04:02.9940|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:04:02.9940|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:04:02.9940|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:04:03.0054|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:04:03.0054|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:04:03.0054|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:04:03.0054|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG34TDODB", Request id "0HMUKG34TDODB:0000000F": started reading request body. 
2023-10-24 17:04:03.0054|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG34TDODB", Request id "0HMUKG34TDODB:0000000F": done reading request body. 
2023-10-24 17:04:03.0228|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:04:03.0228|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:04:03.0228|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:04:03.0228|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:04:03.0228|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:04:03.0228|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:04:03.0228|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:04:03.0228|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:04:03.0228|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:04:03.0228|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:04:03.0228|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:04:05.2946|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka Lavenkach 
2023-10-24 17:04:06.6888|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:04:06.7057|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:04:06.8337|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:04:06.8499|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:06.8499|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:06.8499|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:04:06.8499|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:06.8499|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:06.8499|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:06.8719|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:06.9081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:06.9081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 36ms reading results. 
2023-10-24 17:04:06.9117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:06.9117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:08.5648|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)' 
2023-10-24 17:04:08.5648|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:04:08.5648|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:08.5648|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:08.5648|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:08.5648|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:08.5648|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:08.5678|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:04:08.5678|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:04:08.5678|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:08.5678|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:04:08.5678|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:08.5678|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:08.6410|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."AppUser"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:08.7012|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:08.7012|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:04:08.7012|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:04:08.7227|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:04:08.7826|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:08.7826|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:08.7826|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:08.7826|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:08.7826|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:08.7826|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:04:08.7938|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:04:08.8045|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'AppUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:04:08.8045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:08.8045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 14ms reading results. 
2023-10-24 17:04:08.8045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:08.8045|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:08.8201|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:08.8201|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:04:11.6891|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:11.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:04:11.6956|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:04:11.7143|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:04:11.7509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:11.7795|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 76ms reading results. 
2023-10-24 17:04:11.8110|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:11.8110|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:11.8110|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:11.8110|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.2910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:12.2910|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:12.3428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.3428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 32ms reading results. 
2023-10-24 17:04:12.3428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.3428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:12.3428|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:04:12.3428|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:12.3505|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:04:12.3505|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from skip navigation 'AppUser.Scopes'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:12.3762|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:12.3762|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:04:12.3898|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2023-10-24 17:04:12.3898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:12.3898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.3898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:04:12.3961|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:04:12.3961|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:12.3961|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:12.3961|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:12.3961|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:04:12.4372|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:04:12.4372|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.4372|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:04:12.4372|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:04:12.4445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:04:12.4445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:12.4445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:12.4445|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:04:12.4445|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:12.4445|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUserScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:12.4445|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 2 entities written to the database. 
2023-10-24 17:04:16.0111|0|INFO|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|Request for login an account - Lavenka 
2023-10-24 17:04:16.0111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:16.0111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:16.0111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:16.0111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:16.0111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:16.0111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:16.0111|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:16.0715|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:16.0715|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 57ms reading results. 
2023-10-24 17:04:16.0715|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:16.0715|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'AppUser.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:04:16.1490|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:16.1490|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:04:16.2107|0|ERROR|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|[LoginCommandHandler]: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes') System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at MyProger.Micro.Identity.Extensions.JwtExtensions.GenerateAccessToken(AppUser user, JwtOptions jwtOptions) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Extensions\JwtExtensions.cs:line 51
   at MyProger.Micro.Identity.Commands.Login.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Login\LoginCommandHandler.cs:line 72
2023-10-24 17:04:36.5575|0|ERROR|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|[RegisterCommandHandler]: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes') System.Security.Authentication.AuthenticationException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at MyProger.Micro.Identity.Commands.Login.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Login\LoginCommandHandler.cs:line 85
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 85
2023-10-24 17:04:37.3136|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:04:37.3136|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:04:37.3136|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:04:37.3136|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:04:37.3180|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 34320.2835ms 
2023-10-24 17:04:37.3180|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:04:37.3506|0|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.Security.Authentication.AuthenticationException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 107
   at MyProger.Micro.Identity.Controllers.IdentityController.Register(RegisterCommand request) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Controllers\IdentityController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyProger.Micro.Identity.Middlewares.SeedMiddleware.Invoke(HttpContext context, DataSeeder seeder) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Middlewares\SeedMiddleware.cs:line 15
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-24 17:04:37.3506|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 15 with length 60 and flags END_HEADERS. 
2023-10-24 17:04:37.3506|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 15 with length 5313 and flags NONE. 
2023-10-24 17:04:37.3506|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:04:37.3506|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received WINDOW_UPDATE frame for stream ID 15 with length 4 and flags 0x0. 
2023-10-24 17:04:37.3506|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 15 with length 0 and flags END_STREAM. 
2023-10-24 17:04:37.3506|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:04:37.3506|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:37.3506|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:37.3506|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 230 - 500 - text/plain;+charset=utf-8 34472.1991ms 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 17 with length 52 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:04:52.7910|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 230 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received DATA frame for stream ID 17 with length 230 and flags END_STREAM. 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:04:52.7910|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:04:52.7910|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:04:52.7910|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG34TDODB", Request id "0HMUKG34TDODB:00000011": started reading request body. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG34TDODB", Request id "0HMUKG34TDODB:00000011": done reading request body. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:04:52.7910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:04:52.7910|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:04:52.7910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:04:55.0846|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka Lavenkach 
2023-10-24 17:04:59.5755|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:04:59.5755|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:59.5755|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:04:59.5755|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:04:59.5755|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:59.5755|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:59.5755|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:04:59.6155|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:59.6155|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:59.6155|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:04:59.6155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:59.6155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 40ms reading results. 
2023-10-24 17:04:59.6155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:04:59.6155|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:00.8700|0|WARN|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|User with the same name already taken 
2023-10-24 17:05:02.0539|0|ERROR|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|[RegisterCommandHandler]: Entity "user" (User with the same name) not found. DotNetLearning.Core.Exception.NotFoundException: Entity "user" (User with the same name) not found.
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 64
2023-10-24 17:05:02.5517|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:05:02.5517|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:05:02.5517|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:05:02.5517|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:05:02.5517|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 9756.355ms 
2023-10-24 17:05:02.5517|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:05:02.5835|0|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.Security.Authentication.AuthenticationException: Entity "user" (User with the same name) not found.
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 107
   at MyProger.Micro.Identity.Controllers.IdentityController.Register(RegisterCommand request) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Controllers\IdentityController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyProger.Micro.Identity.Middlewares.SeedMiddleware.Invoke(HttpContext context, DataSeeder seeder) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Middlewares\SeedMiddleware.cs:line 15
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-24 17:05:02.5835|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending HEADERS frame for stream ID 17 with length 34 and flags END_HEADERS. 
2023-10-24 17:05:02.5835|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 17 with length 5205 and flags NONE. 
2023-10-24 17:05:02.6043|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending DATA frame for stream ID 17 with length 0 and flags END_STREAM. 
2023-10-24 17:05:02.6043|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:05:02.6043|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:05:02.6043|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received WINDOW_UPDATE frame for stream ID 17 with length 4 and flags 0x0. 
2023-10-24 17:05:02.6043|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:02.6043|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:02.6043|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 230 - 500 - text/plain;+charset=utf-8 9813.0752ms 
2023-10-24 17:05:16.6422|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received HEADERS frame for stream ID 19 with length 55 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:05:16.6422|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:05:16.6422|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:05:16.6422|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG34TDODB" received DATA frame for stream ID 19 with length 232 and flags END_STREAM. 
2023-10-24 17:05:16.6422|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 232 
2023-10-24 17:05:16.6422|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:05:16.6422|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:05:16.6422|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:05:16.6455|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:05:16.6455|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG34TDODB", Request id "0HMUKG34TDODB:00000013": started reading request body. 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG34TDODB", Request id "0HMUKG34TDODB:00000013": done reading request body. 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:05:16.6455|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:05:16.6455|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:05:16.6455|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:05:16.6455|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:05:16.6455|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:05:16.6455|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:05:16.6455|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:05:18.3281|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenkas Lavenkach 
2023-10-24 17:05:19.4725|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:19.4725|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:19.4725|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:19.4725|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:19.4725|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:19.4725|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:19.4747|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:19.4747|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:19.4916|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:19.4916|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:19.4916|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:24.6278|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:24.6278|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:24.6278|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:24.6278|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:24.6278|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:24.6278|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:05:24.6298|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:05:24.6298|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:24.6298|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:24.6298|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:24.6298|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."AppUser"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:05:24.6945|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'AppUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:24.6945|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:26.1740|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:05:26.1740|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:05:26.1876|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:05:26.1876|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.1876|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 12ms reading results. 
2023-10-24 17:05:26.1876|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.1989|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (9ms). 
2023-10-24 17:05:26.2089|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.2089|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:26.6007|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 4ms reading results. 
2023-10-24 17:05:26.6007|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (5ms). 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (3ms). 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (3ms). 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:26.6139|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from skip navigation 'AppUser.Scopes'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:05:26.6139|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUserScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:26.6139|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 2 entities written to the database. 
2023-10-24 17:05:30.2116|0|INFO|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|Request for login an account - Lavenkas 
2023-10-24 17:05:30.2116|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:30.2116|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:30.2116|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:30.2116|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:30.2116|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:30.2116|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:30.2116|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:05:30.2611|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:30.2611|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 37ms reading results. 
2023-10-24 17:05:30.2611|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:30.2703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'AppUser.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:05:30.3397|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:05:30.3397|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:05:30.3625|0|ERROR|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|[LoginCommandHandler]: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes') System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at MyProger.Micro.Identity.Extensions.JwtExtensions.GenerateAccessToken(AppUser user, JwtOptions jwtOptions) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Extensions\JwtExtensions.cs:line 51
   at MyProger.Micro.Identity.Commands.Login.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Login\LoginCommandHandler.cs:line 72
2023-10-24 17:05:44.5851|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:05:44.6527|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:05:44.6717|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:05:44.6717|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:05:44.6717|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:05:44.6782|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:05:44.6782|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:05:44.6782|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:05:44.6782|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:05:44.6782|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:05:44.6782|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:05:44.6782|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:05:44.6941|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:05:44.6941|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:05:44.6941|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:05:44.8422|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:05:44.8575|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:05:44.8575|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:05:44.8575|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:05:44.8575|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:05:44.8575|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:05:44.8575|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:05:44.9703|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG4LOTFJR" received FIN. 
2023-10-24 17:05:44.9742|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG4LOTFJR" accepted. 
2023-10-24 17:05:44.9742|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG4LOTFJR" started. 
2023-10-24 17:05:44.9742|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:05:45.0140|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG4LOTFJR" stopped. 
2023-10-24 17:05:45.0140|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG4LOTFJR" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:05:45.0711|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG4LOTFJS" accepted. 
2023-10-24 17:05:45.0711|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG4LOTFJS" started. 
2023-10-24 17:05:45.1065|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKG4LOTFJS established using the following protocol: Tls13 
2023-10-24 17:05:45.1287|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:05:45.1302|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:05:45.1302|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:05:45.1302|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:05:45.1302|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:05:45.1302|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:05:45.1302|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:05:45.1559|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:05:45.1559|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:05:45.1559|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:05:45.2831|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:05:45.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:05:45.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:05:45.6956|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:05:45.7719|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:05:45.7719|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:05:45.8987|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:05:45.9180|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:05:46.0342|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:05:46.0539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:46.0539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:05:46.0791|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-24 17:05:46.0836|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-24 17:05:46.0836|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (31ms). 
2023-10-24 17:05:46.0836|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:46.1981|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:46.1981|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:05:46.2298|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:05:46.2298|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:46.2439|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:05:46.2439|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:46.2439|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:05:46.3479|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:05:46.3479|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:05:46.3527|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:05:46.3527|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:05:46.3527|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:46.3527|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (1ms). 
2023-10-24 17:05:46.3527|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1205.6568ms 
2023-10-24 17:05:46.5785|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:05:46.5785|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:05:46.5785|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:05:46.5931|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:05:46.5931|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:46.6866|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending HEADERS frame for stream ID 3 with length 35 and flags END_HEADERS. 
2023-10-24 17:05:46.6866|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:05:46.6866|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:05:46.6866|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:05:46.6866|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:05:46.6866|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:05:46.6866|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.9067ms 
2023-10-24 17:06:00.8549|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:06:00.8549|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:06:00.8549|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 234 
2023-10-24 17:06:00.8549|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:06:00.8549|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:06:00.8549|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG4LOTFJS" received DATA frame for stream ID 5 with length 234 and flags END_STREAM. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:06:00.8731|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:06:00.8731|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:06:00.8962|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:06:00.8962|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:06:00.8962|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:06:00.9543|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:06:00.9543|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:06:00.9682|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:06:00.9682|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:06:00.9682|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:06:00.9682|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:06:00.9682|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:06:00.9682|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:06:00.9682|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:06:00.9682|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:06:00.9791|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:06:00.9791|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:06:00.9791|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:06:00.9910|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG4LOTFJS", Request id "0HMUKG4LOTFJS:00000005": started reading request body. 
2023-10-24 17:06:00.9910|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG4LOTFJS", Request id "0HMUKG4LOTFJS:00000005": done reading request body. 
2023-10-24 17:06:00.9910|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:06:00.9910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:06:00.9910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:06:00.9910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:06:00.9910|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:06:00.9910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:06:00.9910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:06:00.9910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:06:00.9910|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:06:01.0071|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:06:01.0071|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:06:03.4210|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenkass Lavenkach 
2023-10-24 17:06:04.0892|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:06:04.1073|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:06:04.2455|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:06:04.2618|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:04.2618|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:04.2618|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:06:04.2618|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:04.2618|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:04.2618|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:04.2841|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:04.3156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:04.3156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 31ms reading results. 
2023-10-24 17:06:04.3187|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:04.3187|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)' 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:06:05.1205|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:05.1205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:05.1710|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."AppUser"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:05.2305|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:05.2305|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:06:05.2305|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:06:05.2502|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:06:05.2963|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:05.2963|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:05.2963|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:05.2963|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:05.2963|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:05.2963|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:06:05.3049|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:06:05.3049|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'AppUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:06:05.3185|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:05.3185|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 13ms reading results. 
2023-10-24 17:06:05.3185|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:05.3185|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:05.3185|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:05.3185|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.4108|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:06:06.4108|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:06:06.4417|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:06:06.4580|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.4580|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 35ms reading results. 
2023-10-24 17:06:06.4583|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.4583|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:06.4583|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.4583|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:06:06.7379|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:06:06.7379|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:06:06.7437|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:06:06.7437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:06.7437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.7437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.7437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:06.7437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.7437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:06.7437|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:06.7822|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.7822|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 34ms reading results. 
2023-10-24 17:06:06.7822|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.7822|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:06.7822|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:06:06.7822|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:06.7898|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:06:06.7898|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from skip navigation 'AppUser.Scopes'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.8153|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.8153|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:06:06.8285|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2023-10-24 17:06:06.8285|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:06.8285|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.8285|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:06:06.8356|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:06.8356|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:06.8497|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:06:06.8497|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.8497|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUserScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:06.8497|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 2 entities written to the database. 
2023-10-24 17:06:10.1048|0|INFO|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|Request for login an account - Lavenkass 
2023-10-24 17:06:11.5810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:11.5810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:11.5810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:11.5810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:11.5810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:11.5810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:11.5810|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:06:11.6119|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:11.6119|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 29ms reading results. 
2023-10-24 17:06:11.6119|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:11.6119|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'AppUser.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:06:24.9347|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:06:24.9347|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:08:38.0462|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:08:38.1094|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:08:38.1280|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:08:38.1307|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:08:38.1307|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:08:38.1307|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:08:38.1307|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:08:38.1307|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:08:38.1307|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:08:38.1307|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:08:38.1464|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:08:38.1464|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:08:38.1464|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:08:38.1464|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:08:38.1464|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:08:38.2882|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:08:38.3055|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:08:38.3055|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:08:38.3055|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:08:38.3055|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:08:38.3055|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:08:38.3055|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:08:38.4438|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG69F9CN6" received FIN. 
2023-10-24 17:08:38.4438|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG69F9CN6" accepted. 
2023-10-24 17:08:38.4438|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG69F9CN6" started. 
2023-10-24 17:08:38.4610|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:08:38.4866|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG69F9CN6" stopped. 
2023-10-24 17:08:38.4866|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG69F9CN6" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:08:38.5559|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG69F9CN7" accepted. 
2023-10-24 17:08:38.5559|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG69F9CN7" started. 
2023-10-24 17:08:38.5913|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKG69F9CN7 established using the following protocol: Tls13 
2023-10-24 17:08:38.6130|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:08:38.6145|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:08:38.6145|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:08:38.6145|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:08:38.6145|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:08:38.6145|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:08:38.6145|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:08:38.6692|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:08:38.6692|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:08:38.6692|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:08:38.7914|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:08:39.2286|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:08:39.2286|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:08:39.2286|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:08:39.3183|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:08:39.3183|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:08:39.4478|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:08:39.4668|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:08:39.5811|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:08:39.6004|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:08:39.6004|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:08:39.6264|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-24 17:08:39.6308|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-24 17:08:39.6308|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (32ms). 
2023-10-24 17:08:39.6308|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:39.7510|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:39.7586|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:08:39.7818|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:08:39.7894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:39.7894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:08:39.7894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:39.7894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:08:39.8992|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:08:39.8992|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:08:39.8992|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:08:39.8992|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:08:39.8992|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:39.9117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (2ms). 
2023-10-24 17:08:39.9117|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1244.1951ms 
2023-10-24 17:08:40.0371|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:08:40.0371|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:08:40.0371|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:08:40.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:08:40.0532|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:40.0532|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:08:40.1549|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending HEADERS frame for stream ID 3 with length 35 and flags END_HEADERS. 
2023-10-24 17:08:40.1549|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:08:40.1549|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:08:40.1549|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:08:40.1549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:40.1549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:08:40.1549|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.5633ms 
2023-10-24 17:08:51.8873|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:08:51.8873|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:08:51.8873|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:08:51.8873|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 234 
2023-10-24 17:08:51.8873|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:08:51.8873|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received DATA frame for stream ID 5 with length 234 and flags END_STREAM. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:08:51.9061|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:08:51.9061|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:08:51.9302|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:08:51.9302|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:08:51.9302|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:08:51.9896|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:08:51.9896|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:08:51.9896|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:08:51.9896|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:08:51.9896|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:08:51.9896|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:08:51.9896|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:08:52.0048|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:08:52.0048|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:08:52.0048|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:08:52.0048|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:08:52.0048|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:08:52.0048|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:08:52.0279|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG69F9CN7", Request id "0HMUKG69F9CN7:00000005": started reading request body. 
2023-10-24 17:08:52.0279|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG69F9CN7", Request id "0HMUKG69F9CN7:00000005": done reading request body. 
2023-10-24 17:08:52.0279|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:08:52.0279|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:08:52.0279|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:08:52.0279|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:08:52.0397|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:08:52.0397|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:08:52.0397|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:08:52.0397|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:08:52.0397|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:08:52.0397|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:08:52.0397|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:08:53.8222|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka Lavenkach 
2023-10-24 17:08:54.0968|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:08:54.1132|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:08:54.2590|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:08:54.2768|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:08:54.2768|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:54.2768|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:08:54.2768|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:54.2768|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:54.2768|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:08:54.3014|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:08:54.3350|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:54.3350|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 33ms reading results. 
2023-10-24 17:08:54.3350|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:54.3350|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:08:55.0895|0|DEBUG|Microsoft.AspNetCore.Identity.UserManager|User validation failed: InvalidUserName. 
2023-10-24 17:08:56.2710|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:08:56.3117|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:08:56.3117|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:08:56.3117|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:08:56.3231|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:08:56.3712|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:56.3712|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.3712|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:08:56.3712|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:56.3712|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:56.3712|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:08:56.3712|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:08:56.4038|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:08:56.4038|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.4038|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 30ms reading results. 
2023-10-24 17:08:56.4038|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.4038|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:08:56.4159|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:08:56.4159|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.8066|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:08:56.8066|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:08:56.8360|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.8360|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 11ms reading results. 
2023-10-24 17:08:56.8360|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.8360|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.8521|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:08:56.8521|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 5ms reading results. 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:08:56.8673|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 0 entities written to the database. 
2023-10-24 17:09:18.8426|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26796.0832ms. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:09:18.8426|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:09:18.8426|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-24 17:09:18.8426|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2023-10-24 17:09:18.8426|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/json'. 
2023-10-24 17:09:18.8426|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-24 17:09:18.8426|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending HEADERS frame for stream ID 5 with length 66 and flags END_HEADERS. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending DATA frame for stream ID 5 with length 53 and flags NONE. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" received WINDOW_UPDATE frame for stream ID 5 with length 4 and flags 0x0. 
2023-10-24 17:09:18.8511|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 26846.8324ms 
2023-10-24 17:09:18.8511|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:09:18.8511|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG69F9CN7" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2023-10-24 17:09:18.8511|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:09:18.8511|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:09:18.8511|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:09:18.8511|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 234 - 200 - application/json;+charset=utf-8 26967.2885ms 
2023-10-24 17:11:29.8055|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:11:29.8754|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:11:29.8980|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:11:29.8980|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:11:29.8980|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:11:29.8980|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:11:29.8980|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:11:29.9119|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:11:30.0853|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:11:30.1030|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:11:30.1030|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:11:30.1030|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:11:30.1030|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:11:30.1030|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:11:30.1030|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:11:30.5440|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG7SOI62L" received FIN. 
2023-10-24 17:11:30.5440|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG7SOI62L" accepted. 
2023-10-24 17:11:30.5440|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG7SOI62L" started. 
2023-10-24 17:11:30.5626|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:11:30.5915|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG7SOI62L" stopped. 
2023-10-24 17:11:30.5915|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG7SOI62L" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:11:30.6441|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG7SOI62M" accepted. 
2023-10-24 17:11:30.6441|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG7SOI62M" started. 
2023-10-24 17:11:30.6817|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKG7SOI62M established using the following protocol: Tls13 
2023-10-24 17:11:30.7053|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:11:30.7053|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:11:30.7053|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:11:30.7053|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:11:30.7053|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:11:30.7053|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:11:30.7168|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:11:30.7343|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:11:30.7343|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:11:30.7343|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:11:30.8687|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:11:31.2726|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:11:31.2726|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:11:31.2726|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:11:31.3510|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:11:31.3510|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:11:31.4797|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:11:31.4983|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:11:31.6143|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:11:31.6340|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:11:31.6340|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:11:31.6623|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (24ms). 
2023-10-24 17:11:31.6623|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (31ms). 
2023-10-24 17:11:31.6623|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (34ms). 
2023-10-24 17:11:31.6623|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:31.9058|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:31.9142|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:11:31.9378|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:11:31.9458|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:31.9458|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:11:31.9458|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:31.9585|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:11:32.0605|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:11:32.0605|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:11:32.0605|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:11:32.0674|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:11:32.0674|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:32.0674|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (2ms). 
2023-10-24 17:11:32.0674|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1340.3141ms 
2023-10-24 17:11:32.2371|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:11:32.2402|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:11:32.2402|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:11:32.2402|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:11:32.2402|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:11:32.2402|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:11:32.2402|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:11:32.2402|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:32.2402|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:32.2402|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:32.2549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:32.2549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:11:32.2549|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:11:32.2549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:32.2549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:11:32.2549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:32.2549|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:11:32.3464|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending HEADERS frame for stream ID 3 with length 35 and flags END_HEADERS. 
2023-10-24 17:11:32.3464|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:11:32.3464|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:11:32.3464|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:11:32.3464|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:32.3464|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:11:32.3464|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.0530ms 
2023-10-24 17:11:40.6485|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:11:40.6485|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received DATA frame for stream ID 5 with length 236 and flags END_STREAM. 
2023-10-24 17:11:40.6485|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 
2023-10-24 17:11:40.6485|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:11:40.6670|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:11:40.6670|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:11:40.6909|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:11:40.6909|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:11:40.6909|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:11:40.7621|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:11:40.7621|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:11:40.7766|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:11:40.7766|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:11:40.7766|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:11:40.7766|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:11:40.7766|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:11:40.7766|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:11:40.7766|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:11:40.7766|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:11:40.7894|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:11:40.7894|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:11:40.7894|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:11:40.7894|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG7SOI62M", Request id "0HMUKG7SOI62M:00000005": started reading request body. 
2023-10-24 17:11:40.7894|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG7SOI62M", Request id "0HMUKG7SOI62M:00000005": done reading request body. 
2023-10-24 17:11:40.8072|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:11:40.8072|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:11:40.8072|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:11:40.8072|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:11:40.8072|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:11:40.8072|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:11:40.8072|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:11:40.8072|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:11:40.8072|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:11:40.8175|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:11:40.8175|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:11:42.8875|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenkac Lavenkach 
2023-10-24 17:11:43.9494|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:11:43.9649|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:11:44.0969|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:11:44.1147|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:11:44.1147|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:44.1147|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:11:44.1147|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:44.1147|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:44.1147|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:11:44.1391|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:11:44.1739|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:44.1739|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 34ms reading results. 
2023-10-24 17:11:44.1769|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:44.1769|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:11:45.3733|0|DEBUG|Microsoft.AspNetCore.Identity.UserManager|User validation failed: InvalidUserName. 
2023-10-24 17:11:46.8288|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:11:46.8670|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:11:46.8670|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:11:46.8670|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:11:46.8670|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:11:46.9244|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:46.9244|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:46.9244|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:11:46.9244|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:46.9244|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:46.9244|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:11:46.9301|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:11:46.9592|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:11:46.9592|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:46.9592|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 32ms reading results. 
2023-10-24 17:11:46.9592|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:46.9592|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:11:46.9592|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:11:46.9592|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:48.4810|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:11:48.4982|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:11:48.5117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:48.5117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 12ms reading results. 
2023-10-24 17:11:48.5117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:48.5117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:11:48.5117|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:11:48.5117|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:11:48.5261|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 4ms reading results. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:11:48.5261|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 0 entities written to the database. 
2023-10-24 17:13:17.6321|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96811.9635ms. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:13:17.6321|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-24 17:13:17.6321|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2023-10-24 17:13:17.6321|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/json'. 
2023-10-24 17:13:17.6321|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-24 17:13:17.6321|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending HEADERS frame for stream ID 5 with length 66 and flags END_HEADERS. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending DATA frame for stream ID 5 with length 53 and flags NONE. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:13:17.6321|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:13:17.6456|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" received WINDOW_UPDATE frame for stream ID 5 with length 4 and flags 0x0. 
2023-10-24 17:13:17.6456|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 96868.51ms 
2023-10-24 17:13:17.6456|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:13:17.6456|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG7SOI62M" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2023-10-24 17:13:17.6456|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:13:17.6456|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:13:17.6456|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:13:17.6456|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 - 200 - application/json;+charset=utf-8 97004.5803ms 
2023-10-24 17:13:58.5328|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:13:58.6046|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:13:58.6240|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:13:58.6240|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:13:58.6240|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:13:58.6306|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:13:58.6306|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:13:58.6306|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:13:58.6306|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:13:58.6306|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:13:58.6306|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:13:58.6306|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:13:58.6460|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:13:58.6460|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:13:58.6460|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:13:58.7837|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:13:58.8026|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:13:58.8026|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:13:58.8026|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:13:58.8026|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:13:58.8026|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:13:58.8026|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:13:59.1353|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG991KL62" received FIN. 
2023-10-24 17:13:59.1353|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG991KL62" accepted. 
2023-10-24 17:13:59.1353|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG991KL62" started. 
2023-10-24 17:13:59.1529|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:13:59.1781|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG991KL62" stopped. 
2023-10-24 17:13:59.1781|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKG991KL62" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:13:59.2509|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG991KL63" accepted. 
2023-10-24 17:13:59.2509|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKG991KL63" started. 
2023-10-24 17:13:59.2895|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKG991KL63 established using the following protocol: Tls13 
2023-10-24 17:13:59.3140|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:13:59.3140|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:13:59.3140|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:13:59.3174|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:13:59.3174|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:13:59.3174|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:13:59.3174|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:13:59.3428|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:13:59.3428|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:13:59.3428|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:13:59.4777|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:13:59.8865|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:13:59.8865|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:13:59.8865|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:13:59.9626|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:13:59.9626|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:14:00.0916|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:14:00.1105|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:14:00.2305|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:14:00.2519|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:14:00.2519|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:14:00.2775|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-24 17:14:00.2775|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-24 17:14:00.2775|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (32ms). 
2023-10-24 17:14:00.2775|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:00.4040|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:00.4117|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:14:00.4354|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:14:00.4434|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:00.4434|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:14:00.4434|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:00.4434|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:14:00.5603|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:14:00.5603|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:14:00.5603|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:14:00.5696|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:14:00.5696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:00.5696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (1ms). 
2023-10-24 17:14:00.5696|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1233.9713ms 
2023-10-24 17:14:00.7047|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:14:00.7078|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:14:00.7078|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:14:00.7078|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:00.7078|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:14:00.8208|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending HEADERS frame for stream ID 3 with length 65 and flags END_HEADERS. 
2023-10-24 17:14:00.8208|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:14:00.8208|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:14:00.8208|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:14:00.8208|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:00.8208|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:14:00.8208|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.1194ms 
2023-10-24 17:14:44.6480|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:14:44.6480|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:14:44.6480|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 
2023-10-24 17:14:44.6480|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:14:44.6480|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:14:44.6480|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKG991KL63" received DATA frame for stream ID 5 with length 236 and flags END_STREAM. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:14:44.6737|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:14:44.6737|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:14:44.6985|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:14:44.6985|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:14:44.6985|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:14:44.7674|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:14:44.7674|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:14:44.7810|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:14:44.7810|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:14:44.7810|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:14:44.7810|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:14:44.7810|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:14:44.7810|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:14:44.7810|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:14:44.7810|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:14:44.7938|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:14:44.7938|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:14:44.7938|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:14:44.8059|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG991KL63", Request id "0HMUKG991KL63:00000005": started reading request body. 
2023-10-24 17:14:44.8059|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKG991KL63", Request id "0HMUKG991KL63:00000005": done reading request body. 
2023-10-24 17:14:44.8059|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:14:44.8059|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:14:44.8059|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:14:44.8059|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:14:44.8188|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:14:44.8188|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:14:44.8188|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:14:44.8188|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:14:44.8188|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:14:44.8188|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:14:44.8188|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:14:46.6387|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenkas Lavenkach 
2023-10-24 17:14:47.7662|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:14:47.7810|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:14:47.9053|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:14:47.9220|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:14:47.9220|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:47.9220|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:14:47.9220|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:47.9220|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:47.9286|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:14:47.9433|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:14:47.9773|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:47.9773|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 34ms reading results. 
2023-10-24 17:14:47.9773|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:47.9773|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:14:49.8572|0|DEBUG|Microsoft.AspNetCore.Identity.UserManager|User validation failed: InvalidUserName. 
2023-10-24 17:14:51.3273|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:14:51.3662|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:14:51.3662|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:14:51.3662|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:14:51.3662|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:14:51.4253|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:51.4253|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.4269|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:14:51.4269|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:51.4269|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:51.4269|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:14:51.4269|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:14:51.4630|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:14:51.4630|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.4630|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 34ms reading results. 
2023-10-24 17:14:51.4630|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.4630|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:14:51.4756|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:14:51.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:14:51.9046|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:14:51.9046|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:14:51.9046|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:14:51.9111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:14:51.9111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:51.9111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:51.9111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:51.9111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.9111|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:14:51.9111|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:14:51.9294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.9294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 13ms reading results. 
2023-10-24 17:14:51.9294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.9294|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:14:51.9294|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:14:51.9428|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 4ms reading results. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:14:51.9428|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 0 entities written to the database. 
2023-10-24 17:16:19.7659|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:16:19.8300|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:16:19.8483|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:16:19.8510|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:16:19.8510|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:16:19.8510|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:16:19.8510|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:16:19.8510|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:16:19.8510|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:16:19.8656|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:16:19.8656|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:16:19.8656|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:16:19.8656|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:16:19.8656|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:16:19.8656|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:16:20.0033|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:16:20.0196|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:16:20.0196|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:16:20.0196|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:16:20.0196|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:16:20.0196|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:16:20.0207|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:16:20.1672|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGAJ2K6PO" received FIN. 
2023-10-24 17:16:20.1672|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGAJ2K6PO" accepted. 
2023-10-24 17:16:20.1672|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGAJ2K6PO" started. 
2023-10-24 17:16:20.1849|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:16:20.2084|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGAJ2K6PO" stopped. 
2023-10-24 17:16:20.2103|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGAJ2K6PO" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:16:20.2769|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGAJ2K6PP" accepted. 
2023-10-24 17:16:20.2769|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGAJ2K6PP" started. 
2023-10-24 17:16:20.3106|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKGAJ2K6PP established using the following protocol: Tls13 
2023-10-24 17:16:20.3328|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:16:20.3342|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:16:20.3342|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:16:20.3342|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:16:20.3342|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:16:20.3342|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:16:20.3342|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:16:20.3581|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:16:20.3581|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:16:20.3581|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:16:20.4879|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:16:20.9432|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:16:20.9432|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:16:20.9432|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:16:21.0224|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:16:21.0224|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:16:21.1496|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:16:21.1687|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:16:21.2924|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:16:21.3138|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:21.3138|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:16:21.3399|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-24 17:16:21.3399|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-24 17:16:21.3399|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (33ms). 
2023-10-24 17:16:21.3399|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:21.4698|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:21.4780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:16:21.5021|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:16:21.5102|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:21.5102|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:16:21.5102|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:21.5233|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:16:21.6237|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:16:21.6237|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:16:21.6237|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:16:21.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:16:21.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:21.6306|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (2ms). 
2023-10-24 17:16:21.6306|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1279.4049ms 
2023-10-24 17:16:21.7725|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:16:21.7725|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:16:21.7725|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:16:21.7880|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:21.7880|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:21.8920|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending HEADERS frame for stream ID 3 with length 35 and flags END_HEADERS. 
2023-10-24 17:16:21.8920|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:16:21.8920|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:16:21.8920|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:16:21.8920|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:21.8920|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:21.8920|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.7129ms 
2023-10-24 17:16:39.6992|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:16:39.6992|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:16:39.6992|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:16:39.6992|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received DATA frame for stream ID 5 with length 233 and flags END_STREAM. 
2023-10-24 17:16:39.6992|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 233 
2023-10-24 17:16:39.6992|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:16:39.7177|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:16:39.7177|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:16:39.7417|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:16:39.7417|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:16:39.7417|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:16:39.8022|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:16:39.8022|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:16:39.8022|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:16:39.8022|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:16:39.8022|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:16:39.8022|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:16:39.8022|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:16:39.8022|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:16:39.8179|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:16:39.8179|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:16:39.8179|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:16:39.8179|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:16:39.8179|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:16:39.8391|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGAJ2K6PP", Request id "0HMUKGAJ2K6PP:00000005": started reading request body. 
2023-10-24 17:16:39.8391|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGAJ2K6PP", Request id "0HMUKGAJ2K6PP:00000005": done reading request body. 
2023-10-24 17:16:39.8391|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:16:39.8391|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:16:39.8391|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:16:39.8391|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:16:39.8512|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:16:39.8512|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:16:39.8512|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:16:39.8512|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:16:39.8512|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:16:39.8512|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:16:39.8512|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:16:42.1330|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka1 Lavenkach 
2023-10-24 17:16:42.7455|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:16:42.7613|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:16:42.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:16:42.9055|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:42.9055|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:42.9055|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:16:42.9055|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:42.9055|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:42.9126|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:42.9285|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:42.9606|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:42.9606|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 31ms reading results. 
2023-10-24 17:16:42.9606|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:42.9606|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:44.3613|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)' 
2023-10-24 17:16:44.3613|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:16:44.3613|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:44.3613|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:44.3613|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:44.3613|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:44.3613|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:44.3644|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:16:44.3644|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:16:44.3644|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:44.3644|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:16:44.3644|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:44.3644|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:44.4179|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."AppUser"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:44.4765|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:44.4765|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:16:44.4765|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:16:44.4959|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:16:44.5440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:44.5440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:44.5440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:44.5440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:44.5440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:44.5440|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:16:44.5526|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:16:44.5526|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'AppUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:16:44.5526|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:44.5526|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 14ms reading results. 
2023-10-24 17:16:44.5526|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:44.5526|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:44.5760|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:44.5760|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:49.6490|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:16:49.6490|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:16:49.6877|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:16:49.6959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:49.6959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 34ms reading results. 
2023-10-24 17:16:49.6959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:49.6959|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:49.6959|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:49.6959|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:16:51.1721|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:16:51.1721|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:16:51.1777|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:16:51.1777|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:51.1777|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:51.1777|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:51.1777|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:51.1777|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.1777|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:51.1777|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:51.2183|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2183|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 36ms reading results. 
2023-10-24 17:16:51.2183|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2183|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:51.2183|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:16:51.2183|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:51.2259|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:16:51.2259|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from skip navigation 'AppUser.Scopes'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:51.2503|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:51.2503|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:16:51.2650|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2023-10-24 17:16:51.2650|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:51.2650|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2650|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:16:51.2717|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:51.2717|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:16:51.2873|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:16:51.2873|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:51.2873|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUserScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:16:51.2873|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 2 entities written to the database. 
2023-10-24 17:16:56.6070|0|INFO|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|Request for login an account - Lavenka1 
2023-10-24 17:16:57.7696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:16:57.7696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:57.7696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:16:57.7696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:16:57.7696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:57.7696|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:57.7714|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:16:57.8010|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:57.8010|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 22ms reading results. 
2023-10-24 17:16:57.8010|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:16:57.8010|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'AppUser.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:17:08.9962|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:17:08.9962|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:17:50.0608|0|ERROR|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|[LoginCommandHandler]: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes') System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at MyProger.Micro.Identity.Extensions.JwtExtensions.GenerateAccessToken(AppUser user, JwtOptions jwtOptions) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Extensions\JwtExtensions.cs:line 51
   at MyProger.Micro.Identity.Commands.Login.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Login\LoginCommandHandler.cs:line 72
2023-10-24 17:17:50.8993|0|ERROR|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|[RegisterCommandHandler]: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes') System.Security.Authentication.AuthenticationException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at MyProger.Micro.Identity.Commands.Login.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Login\LoginCommandHandler.cs:line 85
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 85
2023-10-24 17:17:50.9469|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:17:50.9469|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:17:50.9469|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:17:50.9469|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:17:50.9469|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 71131.7873ms 
2023-10-24 17:17:50.9469|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:17:50.9998|0|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.Security.Authentication.AuthenticationException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 107
   at MyProger.Micro.Identity.Controllers.IdentityController.Register(RegisterCommand request) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Controllers\IdentityController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyProger.Micro.Identity.Middlewares.SeedMiddleware.Invoke(HttpContext context, DataSeeder seeder) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Middlewares\SeedMiddleware.cs:line 15
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-24 17:17:51.0059|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending HEADERS frame for stream ID 5 with length 60 and flags END_HEADERS. 
2023-10-24 17:17:51.0059|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending DATA frame for stream ID 5 with length 5313 and flags NONE. 
2023-10-24 17:17:51.0059|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:17:51.0059|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" received WINDOW_UPDATE frame for stream ID 5 with length 4 and flags 0x0. 
2023-10-24 17:17:51.0059|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGAJ2K6PP" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2023-10-24 17:17:51.0059|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:17:51.0059|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:17:51.0059|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:17:51.0059|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 233 - 500 - text/plain;+charset=utf-8 71318.1772ms 
2023-10-24 17:18:01.0094|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:18:01.0810|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:18:01.1013|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:18:01.1013|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:18:01.1013|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:18:01.1013|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:18:01.1013|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:18:01.1155|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:18:01.2669|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:18:01.2827|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:18:01.2827|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:18:01.2827|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:18:01.2827|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:18:01.2827|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:18:01.2827|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:18:01.3036|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGBH74IVN" received FIN. 
2023-10-24 17:18:01.3036|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGBH74IVN" accepted. 
2023-10-24 17:18:01.3036|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGBH74IVN" started. 
2023-10-24 17:18:01.3227|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:18:01.3484|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGBH74IVN" stopped. 
2023-10-24 17:18:01.3503|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGBH74IVN" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:18:01.4033|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGBH74IVO" accepted. 
2023-10-24 17:18:01.4033|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGBH74IVO" started. 
2023-10-24 17:18:01.4387|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKGBH74IVO established using the following protocol: Tls13 
2023-10-24 17:18:01.4598|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:18:01.4598|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:18:01.4598|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:18:01.4598|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:18:01.4598|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:18:01.4598|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:18:01.4598|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:18:01.4868|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:18:01.4868|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:18:01.4868|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:18:01.6160|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:18:02.0219|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:18:02.0219|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:18:02.0219|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:18:02.0980|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:18:02.0980|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:18:02.2266|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:18:02.2462|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:18:02.3594|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:18:02.3803|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:02.3803|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:18:02.4080|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (24ms). 
2023-10-24 17:18:02.4124|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (31ms). 
2023-10-24 17:18:02.4124|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (34ms). 
2023-10-24 17:18:02.4124|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:02.5317|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:02.5395|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:02.5630|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:02.5709|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:02.5709|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:18:02.5709|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:02.5837|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:18:02.6812|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:18:02.6812|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:18:02.6812|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:18:02.6812|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:18:02.6812|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:02.6936|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (2ms). 
2023-10-24 17:18:02.6936|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1208.9856ms 
2023-10-24 17:18:02.8213|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:18:02.8213|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:18:02.8213|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:02.8333|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:02.8333|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:02.9272|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending HEADERS frame for stream ID 3 with length 35 and flags END_HEADERS. 
2023-10-24 17:18:02.9272|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:18:02.9272|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:18:02.9272|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:18:02.9272|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:02.9272|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:02.9272|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.0081ms 
2023-10-24 17:18:12.5733|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:18:12.5733|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received DATA frame for stream ID 5 with length 236 and flags END_STREAM. 
2023-10-24 17:18:12.5733|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 
2023-10-24 17:18:12.5733|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:12.5945|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:12.5945|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:12.6171|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:12.6171|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:12.6171|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:12.6740|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:18:12.6740|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:12.6878|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:18:12.6878|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:18:12.6878|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:18:12.6878|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:18:12.6878|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:18:12.6878|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:18:12.6878|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:12.6878|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:12.6992|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:12.6992|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:18:12.6992|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:18:12.7114|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:00000005": started reading request body. 
2023-10-24 17:18:12.7114|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:00000005": done reading request body. 
2023-10-24 17:18:12.7114|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:18:12.7114|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:12.7114|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:12.7114|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:12.7114|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:12.7243|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:12.7243|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:12.7243|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:12.7243|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:12.7243|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:18:12.7243|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:18:12.7458|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka12 Lavenkach 
2023-10-24 17:18:12.7691|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:18:12.7854|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:18:12.9175|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:18:12.9346|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:12.9346|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:12.9346|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:18:12.9346|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:12.9346|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:12.9346|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:12.9574|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:12.9640|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:12.9640|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 6ms reading results. 
2023-10-24 17:18:12.9640|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:12.9640|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:13.0503|0|DEBUG|Microsoft.AspNetCore.Identity.UserManager|User validation failed: InvalidUserName. 
2023-10-24 17:18:13.0771|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:13.1167|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:13.1167|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:13.1167|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:13.1167|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:13.1749|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:13.1749|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.1749|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:13.1749|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:13.1749|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:13.1749|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:13.1809|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:13.1809|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:18:13.1969|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.1969|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 15ms reading results. 
2023-10-24 17:18:13.1969|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.1969|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:13.2081|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:18:13.2081|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:13.2292|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 4ms reading results. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:13.2292|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 0 entities written to the database. 
2023-10-24 17:18:13.2407|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 511.3349ms. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:18:13.2407|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-24 17:18:13.2407|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2023-10-24 17:18:13.2407|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/json'. 
2023-10-24 17:18:13.2407|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-24 17:18:13.2407|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending HEADERS frame for stream ID 5 with length 66 and flags END_HEADERS. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 5 with length 53 and flags NONE. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:18:13.2407|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 561.0977ms 
2023-10-24 17:18:13.2407|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:13.2407|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2023-10-24 17:18:13.2407|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:18:13.2407|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:13.2407|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:13.2407|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 - 200 - application/json;+charset=utf-8 679.6650ms 
2023-10-24 17:18:20.7966|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received HEADERS frame for stream ID 7 with length 52 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:18:20.7966|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received DATA frame for stream ID 7 with length 236 and flags END_STREAM. 
2023-10-24 17:18:20.7966|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 
2023-10-24 17:18:20.7966|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:20.7966|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:18:20.7966|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:20.7966|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:20.7966|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:00000007": started reading request body. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:00000007": done reading request body. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:20.8018|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:20.8018|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:20.8018|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:20.8018|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:20.8018|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:18:20.8018|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:18:20.8018|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka12 Lavenkach 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:20.8018|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8018|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.AspNetCore.Identity.UserManager|User validation failed: InvalidUserName. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:20.8681|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:20.8681|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:20.8681|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:20.8681|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 4ms reading results. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 0 entities written to the database. 
2023-10-24 17:18:20.8798|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 77.5872ms. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/json'. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-24 17:18:20.8798|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending HEADERS frame for stream ID 7 with length 34 and flags END_HEADERS. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 7 with length 53 and flags NONE. 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:20.8798|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 79.7147ms 
2023-10-24 17:18:20.8798|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 7 with length 0 and flags END_STREAM. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:20.8798|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:20.8798|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 - 200 - application/json;+charset=utf-8 84.2712ms 
2023-10-24 17:18:20.8798|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:18:21.4703|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received HEADERS frame for stream ID 9 with length 52 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:18:21.4703|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received DATA frame for stream ID 9 with length 236 and flags END_STREAM. 
2023-10-24 17:18:21.4703|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 
2023-10-24 17:18:21.4703|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:21.4703|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:21.4703|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:18:21.4734|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:21.4734|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:00000009": started reading request body. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:00000009": done reading request body. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:21.4734|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:21.4734|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:21.4734|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:21.4734|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:21.4734|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:18:21.4734|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:18:21.4734|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka12 Lavenkach 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:21.4734|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.4734|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.AspNetCore.Identity.UserManager|User validation failed: InvalidUserName. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.5417|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:21.5628|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:21.5628|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:21.5628|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:21.5628|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 0 entities written to the database. 
2023-10-24 17:18:21.5670|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.906ms. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/json'. 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-24 17:18:21.5670|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.ProducesAttribute. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending HEADERS frame for stream ID 9 with length 34 and flags END_HEADERS. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 9 with length 53 and flags NONE. 
2023-10-24 17:18:21.5670|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 93.7869ms 
2023-10-24 17:18:21.5670|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:18:21.5670|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending DATA frame for stream ID 9 with length 0 and flags END_STREAM. 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:21.5670|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:21.5670|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 - 200 - application/json;+charset=utf-8 96.5164ms 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received HEADERS frame for stream ID 11 with length 56 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:18:36.0388|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 237 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGBH74IVO" received DATA frame for stream ID 11 with length 237 and flags END_STREAM. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:36.0388|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:18:36.0388|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:18:36.0388|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:0000000B": started reading request body. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGBH74IVO", Request id "0HMUKGBH74IVO:0000000B": done reading request body. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:18:36.0388|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:18:36.0388|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:18:36.0388|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:18:38.1423|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka132 Lavenkach 
2023-10-24 17:18:38.7655|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:38.7655|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:38.7655|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:38.7655|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:38.7655|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:38.7655|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:38.7655|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:38.7735|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:38.7735|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:38.7735|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:38.7735|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:39.2924|0|DEBUG|Microsoft.AspNetCore.Identity.UserManager|User validation failed: InvalidUserName. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:41.1397|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:41.1397|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:41.1495|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:41.1495|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:41.1495|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:18:41.1495|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:18:47.9669|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:47.9669|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:47.9669|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:47.9669|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:47.9669|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:47.9669|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:47.9669|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:47.9751|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:47.9751|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:47.9751|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:47.9751|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (6ms). 
2023-10-24 17:18:47.9751|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:18:47.9751|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:47.9892|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:18:47.9892|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 0 entities written to the database. 
2023-10-24 17:19:15.2547|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:19:15.3211|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:19:15.3399|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:19:15.3399|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:19:15.3399|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:19:15.3399|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:19:15.3399|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:19:15.3532|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:19:15.3532|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:19:15.3532|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:19:15.3532|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:19:15.3532|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:19:15.3661|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:19:15.3661|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:19:15.3661|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:19:15.5181|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:19:15.5389|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGC7B3BEB" received FIN. 
2023-10-24 17:19:15.5389|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:19:15.5389|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:19:15.5389|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:19:15.5389|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:19:15.5389|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:19:15.5389|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:19:15.5389|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGC7B3BEB" accepted. 
2023-10-24 17:19:15.5389|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGC7B3BEB" started. 
2023-10-24 17:19:15.5582|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:19:15.5835|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGC7B3BEB" stopped. 
2023-10-24 17:19:15.5835|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGC7B3BEB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:19:15.6480|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGC7B3BEC" accepted. 
2023-10-24 17:19:15.6480|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGC7B3BEC" started. 
2023-10-24 17:19:15.6856|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKGC7B3BEC established using the following protocol: Tls13 
2023-10-24 17:19:15.7077|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:19:15.7093|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:19:15.7093|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:19:15.7093|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:19:15.7093|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:19:15.7093|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:19:15.7093|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:19:15.7355|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:19:15.7355|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:19:15.7355|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:19:15.8644|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:19:16.3238|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:19:16.3238|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:19:16.3238|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:19:16.3995|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:19:16.3995|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:19:16.5350|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:19:16.5545|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:19:16.6865|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:19:16.7087|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:16.7087|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:19:16.7383|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (25ms). 
2023-10-24 17:19:16.7435|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (33ms). 
2023-10-24 17:19:16.7435|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (37ms). 
2023-10-24 17:19:16.7435|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:16.8565|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:16.8649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:19:16.8878|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:19:16.8878|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:16.9017|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:19:16.9017|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:16.9017|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:19:17.0152|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:19:17.0152|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:19:17.0205|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:19:17.0205|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:19:17.0205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:17.0205|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (2ms). 
2023-10-24 17:19:17.0205|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1295.6370ms 
2023-10-24 17:19:17.1674|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:19:17.1674|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:19:17.1674|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:19:17.1811|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:17.1811|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:17.2787|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending HEADERS frame for stream ID 3 with length 35 and flags END_HEADERS. 
2023-10-24 17:19:17.2787|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:19:17.2787|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:19:17.2787|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:19:17.2787|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:17.2787|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:17.2787|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.4019ms 
2023-10-24 17:19:37.4110|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:19:37.4110|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:19:37.4110|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:19:37.4110|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received DATA frame for stream ID 5 with length 234 and flags END_STREAM. 
2023-10-24 17:19:37.4110|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 234 
2023-10-24 17:19:37.4110|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:19:37.4321|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:19:37.4321|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:19:37.4564|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:19:37.4564|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:19:37.4564|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:19:37.5148|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:19:37.5148|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:19:37.5294|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:19:37.5294|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:19:37.5294|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:19:37.5294|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:19:37.5294|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:19:37.5294|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:19:37.5294|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:19:37.5294|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:19:37.5406|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:19:37.5406|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:19:37.5406|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:19:37.5527|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGC7B3BEC", Request id "0HMUKGC7B3BEC:00000005": started reading request body. 
2023-10-24 17:19:37.5527|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGC7B3BEC", Request id "0HMUKGC7B3BEC:00000005": done reading request body. 
2023-10-24 17:19:37.5527|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:19:37.5527|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:19:37.5527|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:19:37.5527|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:19:37.5527|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:19:37.5527|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:19:37.5527|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:19:37.5527|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:19:37.5527|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:19:37.5674|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:19:37.5674|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:19:42.5677|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka12 Lavenkach 
2023-10-24 17:19:42.8778|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:19:42.8948|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:19:43.0292|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:19:43.0464|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:43.0464|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:43.0464|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:19:43.0464|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:43.0464|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.0530|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:43.0690|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:43.1022|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.1022|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 33ms reading results. 
2023-10-24 17:19:43.1022|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.1022|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)' 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:19:43.3558|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.3558|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:43.4064|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."AppUser"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:43.4675|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:43.4675|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:19:43.4736|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:19:43.4736|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:19:43.5379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:43.5379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.5379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:43.5379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:43.5379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:43.5379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:19:43.5379|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:19:43.5572|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'AppUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:19:43.5572|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.5572|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 14ms reading results. 
2023-10-24 17:19:43.5572|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:43.5572|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:43.5703|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:43.5703|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:19:45.0170|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:45.0229|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:19:45.0229|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:19:45.0484|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:19:45.0573|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:45.0573|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 28ms reading results. 
2023-10-24 17:19:45.0573|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:45.0573|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:45.0678|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:45.0678|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.0371|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:46.0371|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 57ms reading results. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:46.1150|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:19:46.1150|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:19:46.1296|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from skip navigation 'AppUser.Scopes'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:46.1459|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:46.1459|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:19:46.1459|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2023-10-24 17:19:46.1459|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:46.1459|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1459|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:19:46.1649|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:19:46.1649|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:46.1767|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:19:46.1767|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:19:46.1767|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:46.1767|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUserScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:19:46.1767|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 2 entities written to the database. 
2023-10-24 17:19:50.2597|0|INFO|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|Request for login an account - Lavenka12 
2023-10-24 17:19:51.7132|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:19:51.7132|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:51.7132|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:19:51.7132|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:19:51.7132|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:51.7132|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:51.7132|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:19:51.7463|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:51.7463|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 31ms reading results. 
2023-10-24 17:19:51.7463|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:19:51.7463|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'AppUser.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:20:20.7643|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:20.7643|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:20:33.6909|0|ERROR|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|[LoginCommandHandler]: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes') System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at MyProger.Micro.Identity.Extensions.JwtExtensions.GenerateAccessToken(AppUser user, JwtOptions jwtOptions) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Extensions\JwtExtensions.cs:line 51
   at MyProger.Micro.Identity.Commands.Login.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Login\LoginCommandHandler.cs:line 72
2023-10-24 17:20:34.0387|0|ERROR|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|[RegisterCommandHandler]: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes') System.Security.Authentication.AuthenticationException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at MyProger.Micro.Identity.Commands.Login.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Login\LoginCommandHandler.cs:line 85
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 85
2023-10-24 17:20:34.0862|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:20:34.0862|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:20:34.0862|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:20:34.0862|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:20:34.0862|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) in 56557.4815ms 
2023-10-24 17:20:34.0862|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:20:34.1361|0|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.Security.Authentication.AuthenticationException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '144' bits. (Parameter 'keyBytes')
   at MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Commands\Register\RegisterCommandHandler.cs:line 107
   at MyProger.Micro.Identity.Controllers.IdentityController.Register(RegisterCommand request) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Controllers\IdentityController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyProger.Micro.Identity.Middlewares.SeedMiddleware.Invoke(HttpContext context, DataSeeder seeder) in E:\DotNetProjects\MyProger\MyProger.Micro.Identity\Middlewares\SeedMiddleware.cs:line 15
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-24 17:20:34.1361|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending HEADERS frame for stream ID 5 with length 60 and flags END_HEADERS. 
2023-10-24 17:20:34.1361|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending DATA frame for stream ID 5 with length 5313 and flags NONE. 
2023-10-24 17:20:34.1361|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:20:34.1361|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received WINDOW_UPDATE frame for stream ID 5 with length 4 and flags 0x0. 
2023-10-24 17:20:34.1361|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2023-10-24 17:20:34.1508|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:20:34.1508|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:34.1508|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:34.1508|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 234 - 500 - text/plain;+charset=utf-8 56743.2824ms 
2023-10-24 17:20:39.5932|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received HEADERS frame for stream ID 7 with length 56 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:20:39.5932|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGC7B3BEC" received DATA frame for stream ID 7 with length 236 and flags END_STREAM. 
2023-10-24 17:20:39.5932|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 236 
2023-10-24 17:20:39.5932|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:20:39.5932|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:20:39.5932|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:20:39.5932|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:20:39.5932|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGC7B3BEC", Request id "0HMUKGC7B3BEC:00000007": started reading request body. 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGC7B3BEC", Request id "0HMUKGC7B3BEC:00000007": done reading request body. 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:20:39.5983|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:20:39.5983|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:20:39.5983|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:20:39.5983|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:20:39.5983|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:20:39.5983|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:20:39.5983|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:20:41.6990|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka121 Lavenkach 
2023-10-24 17:20:42.0437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:42.0437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.0437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.0437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:42.0437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.0437|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:42.0437|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:42.0554|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.0554|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 1ms reading results. 
2023-10-24 17:20:42.0554|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.0554|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (9ms). 
2023-10-24 17:20:42.4047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:42.4047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.4047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.4047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:42.4047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.4047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:20:42.4047|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:20:42.4047|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.4173|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:20:42.4173|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.4173|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."AppUser"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:20:42.4756|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'AppUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.4756|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:20:42.7156|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:20:42.7156|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:20:42.7299|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.7299|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 11ms reading results. 
2023-10-24 17:20:42.7299|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.7299|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:42.7429|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.7429|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:42.8509|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.8509|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:20:42.8657|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.8657|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:42.8894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:42.8894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.8894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.8894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:42.8894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.8894|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:42.9024|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from skip navigation 'AppUser.Scopes'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:20:42.9024|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUserScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:42.9024|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 2 entities written to the database. 
2023-10-24 17:20:43.5106|0|INFO|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|Request for login an account - Lavenka121 
2023-10-24 17:20:43.7539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:43.7539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:43.7539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:43.7539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:43.7539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:43.7539|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:43.7564|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:20:43.7774|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:43.7774|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 21ms reading results. 
2023-10-24 17:20:43.7874|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:43.7874|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'AppUser.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:20:45.8884|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:20:45.8884|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:45.8993|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 7ms reading results. 
2023-10-24 17:20:45.8993|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:20:45.8993|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:20:45.8993|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:20:45.8993|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:30:50.2092|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-24 17:30:50.2747|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-24 17:30:50.2946|0|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-24 17:30:50.2946|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-986fe8c4-a792-4074-b9ad-6a118ccf56a9.xml'. 
2023-10-24 17:30:50.2946|0|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Laven\AppData\Local\ASP.NET\DataProtection-Keys\key-cd28ee06-4595-46d4-8679-e06dac3a83e0.xml'. 
2023-10-24 17:30:50.3041|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {986fe8c4-a792-4074-b9ad-6a118ccf56a9}. 
2023-10-24 17:30:50.3041|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {cd28ee06-4595-46d4-8679-e06dac3a83e0}. 
2023-10-24 17:30:50.3041|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {cd28ee06-4595-46d4-8679-e06dac3a83e0} with expiration date 2023-12-21 09:26:14Z as default key. 
2023-10-24 17:30:50.3041|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:30:50.3041|0|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-24 17:30:50.3041|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-24 17:30:50.3041|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-24 17:30:50.3202|0|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-24 17:30:50.3202|0|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {cd28ee06-4595-46d4-8679-e06dac3a83e0} as the default key. 
2023-10-24 17:30:50.3202|0|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {cd28ee06-4595-46d4-8679-e06dac3a83e0} was loaded during application startup. 
2023-10-24 17:30:50.4581|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7124 
2023-10-24 17:30:50.4749|0|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5294 
2023-10-24 17:30:50.4749|0|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly MyProger.Micro.Identity 
2023-10-24 17:30:50.4749|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-24 17:30:50.4749|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-24 17:30:50.4749|0|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\DotNetProjects\MyProger\MyProger.Micro.Identity 
2023-10-24 17:30:50.4749|0|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-24 17:30:50.6023|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGIMFNSB9" received FIN. 
2023-10-24 17:30:50.6023|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGIMFNSB9" accepted. 
2023-10-24 17:30:50.6023|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGIMFNSB9" started. 
2023-10-24 17:30:50.6203|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-24 17:30:50.6443|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGIMFNSB9" stopped. 
2023-10-24 17:30:50.6462|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUKGIMFNSB9" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-24 17:30:50.7213|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGIMFNSBA" accepted. 
2023-10-24 17:30:50.7213|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUKGIMFNSBA" started. 
2023-10-24 17:30:50.7584|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMUKGIMFNSBA established using the following protocol: Tls13 
2023-10-24 17:30:50.7799|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:30:50.7799|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:30:50.7799|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-10-24 17:30:50.7799|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:30:50.7799|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-10-24 17:30:50.7799|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received HEADERS frame for stream ID 1 with length 1619 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:30:50.7913|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-10-24 17:30:50.8051|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - - 
2023-10-24 17:30:50.8051|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-24 17:30:50.8051|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:30:50.9351|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-24 17:30:51.3650|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'ScopesId'} was not created on entity type 'AppUserScopeEntity (Dictionary<string, object>)' as the properties are already covered by the index {'ScopesId', 'UsersId'}. 
2023-10-24 17:30:51.3650|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2023-10-24 17:30:51.3650|0|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2023-10-24 17:30:51.4421|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).ScopesId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:30:51.4421|0|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'AppUserScopeEntity (Dictionary<string, object>).UsersId' was created in shadow state because there are no eligible CLR members with a matching name. 
2023-10-24 17:30:51.5702|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:30:51.5893|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Any()' 
2023-10-24 17:30:51.7059|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Scopes AS s)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    MyProger.Micro.Identity.Database.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()' 
2023-10-24 17:30:51.7253|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:30:51.7253|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:30:51.7504|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-24 17:30:51.7504|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-24 17:30:51.7557|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (31ms). 
2023-10-24 17:30:51.7557|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:30:51.8768|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:30:51.8845|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:30:51.9084|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:30:51.9160|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:30:51.9160|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 9ms reading results. 
2023-10-24 17:30:51.9160|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:30:51.9283|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (3ms). 
2023-10-24 17:30:52.0272|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending HEADERS frame for stream ID 1 with length 66 and flags END_HEADERS. 
2023-10-24 17:30:52.0272|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending DATA frame for stream ID 1 with length 4758 and flags NONE. 
2023-10-24 17:30:52.0272|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2023-10-24 17:30:52.0272|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:30:52.0379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:30:52.0379|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (2ms). 
2023-10-24 17:30:52.0379|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 1236.8643ms 
2023-10-24 17:30:52.1648|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received HEADERS frame for stream ID 3 with length 114 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-10-24 17:30:52.1648|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - 
2023-10-24 17:30:52.1648|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:30:52.1780|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:30:52.1780|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:30:52.2752|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending HEADERS frame for stream ID 3 with length 35 and flags END_HEADERS. 
2023-10-24 17:30:52.2752|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending DATA frame for stream ID 3 with length 6125 and flags NONE. 
2023-10-24 17:30:52.2752|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-24 17:30:52.2752|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2023-10-24 17:30:52.2752|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:30:52.2752|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:30:52.2752|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.8936ms 
2023-10-24 17:31:06.1294|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received HEADERS frame for stream ID 5 with length 95 and flags END_HEADERS, PRIORITY. 
2023-10-24 17:31:06.1303|0|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7124/api/v1/identity/register-user application/json 239 
2023-10-24 17:31:06.1303|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received PING frame for stream ID 0 with length 8 and flags NONE. 
2023-10-24 17:31:06.1303|0|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-24 17:31:06.1303|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2023-10-24 17:31:06.1303|0|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HMUKGIMFNSBA" received DATA frame for stream ID 5 with length 239 and flags END_STREAM. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.12 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:31:06.1483|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS s) 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:31:06.1483|0|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2023-10-24 17:31:06.1726|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/v1/identity/register-user' 
2023-10-24 17:31:06.1726|0|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' with route pattern 'api/v1/identity/register-user' is valid for the request path '/api/v1/identity/register-user' 
2023-10-24 17:31:06.1726|0|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:31:06.2331|0|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-24 17:31:06.2331|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity)' 
2023-10-24 17:31:06.2474|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyProger.Micro.Identity.Commands.Register.RegisterCommand) on controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity). 
2023-10-24 17:31:06.2474|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-24 17:31:06.2474|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-24 17:31:06.2474|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-24 17:31:06.2474|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-24 17:31:06.2474|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000), Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0) 
2023-10-24 17:31:06.2474|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:31:06.2474|0|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller MyProger.Micro.Identity.Controllers.IdentityController (MyProger.Micro.Identity) 
2023-10-24 17:31:06.2598|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:31:06.2598|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' using the name '' in request data ... 
2023-10-24 17:31:06.2598|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-24 17:31:06.2720|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGIMFNSBA", Request id "0HMUKGIMFNSBA:00000005": started reading request body. 
2023-10-24 17:31:06.2720|0|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUKGIMFNSBA", Request id "0HMUKGIMFNSBA:00000005": done reading request body. 
2023-10-24 17:31:06.2720|0|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' 
2023-10-24 17:31:06.2720|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:31:06.2720|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:31:06.2720|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand' ... 
2023-10-24 17:31:06.2720|0|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'MyProger.Micro.Identity.Commands.Register.RegisterCommand'. 
2023-10-24 17:31:06.2863|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:31:06.2863|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-24 17:31:06.2863|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:31:06.2863|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-24 17:31:06.2863|0|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) - Validation state: Valid 
2023-10-24 17:31:06.2863|0|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method MyProger.Micro.Identity.Controllers.IdentityController.Register (MyProger.Micro.Identity) with arguments (MyProger.Micro.Identity.Commands.Register.RegisterCommand) 
2023-10-24 17:31:08.4129|0|INFO|MyProger.Micro.Identity.Commands.Register.RegisterCommandHandler|Request for login an account - Lavenka1233 Lavenkach 
2023-10-24 17:31:08.6605|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.UserName == __name_0)' 
2023-10-24 17:31:08.6778|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:31:08.8105|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.UserName == @__name_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:31:08.8290|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:08.8290|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:08.8290|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-10-24 17:31:08.8342|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:08.8342|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:08.8342|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:08.8540|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:08.8872|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:08.8872|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 33ms reading results. 
2023-10-24 17:31:08.8872|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:08.8872|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)' 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:31:09.1516|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.1516|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:09.2343|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."AppUser"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.2944|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.2944|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:31:09.2944|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:31:09.3144|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:31:09.3617|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:09.3617|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.3617|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:09.3617|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.3617|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.3617|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:31:09.3708|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "BirthDate", "ConcurrencyStamp", "Email", "EmailConfirmed", "Firstname", "Lastname", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "Patronymic", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id"; 
2023-10-24 17:31:09.3808|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'AppUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:31:09.3808|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.3808|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 13ms reading results. 
2023-10-24 17:31:09.3808|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.3808|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:09.3808|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.3954|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:31:09.6230|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."ScopeEntity"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.6230|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'ScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.6230|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:31:09.6230|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:31:09.6322|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:31:09.6322|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:09.6322|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.6322|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:09.6322|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.6322|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.6322|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:31:09.6322|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Scopes" ("CreatedAt", "Name")
VALUES (@p0, @p1)
RETURNING "Id"; 
2023-10-24 17:31:09.6547|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ScopeEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:31:09.6631|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.6631|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 28ms reading results. 
2023-10-24 17:31:09.6631|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.6631|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:09.6631|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.6631|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-24 17:31:09.7812|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Scopes)
    .FirstOrDefault(x => x.Id == __userId_0)' 
2023-10-24 17:31:09.7812|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'AppUser.Scopes'. 
2023-10-24 17:31:09.7870|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.BirthDate (DateTime?), 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.Firstname (string), 6], [Property: AppUser.Lastname (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.Patronymic (string), 13], [Property: AppUser.PhoneNumber (string), 14], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 15], [Property: AppUser.RefreshToken (string), 16], [Property: AppUser.SecurityStamp (string), 17], [Property: AppUser.TwoFactorEnabled (bool) Required, 18], [Property: AppUser.UserName (string) MaxLength(256), 19] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 20], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 21] }
                3 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ScopeEntity.CreatedAt (DateTime) Required, 23], [Property: ScopeEntity.Name (string) Required, 24] }
                4 -> 20
                5 -> 21
                6 -> 22
            SELECT t.Id, t.AccessFailedCount, t.BirthDate, t.ConcurrencyStamp, t.Email, t.EmailConfirmed, t.Firstname, t.Lastname, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.Patronymic, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, t0.ScopesId, t0.UsersId, t0.Id, t0.CreatedAt, t0.Name
            FROM 
            (
                SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.Firstname, a.Lastname, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.Patronymic, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM AspNetUsers AS a
                WHERE a.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a0.ScopesId, a0.UsersId, s.Id, s.CreatedAt, s.Name
                FROM AppUserScopeEntity AS a0
                INNER JOIN Scopes AS s ON a0.ScopesId == s.Id
            ) AS t0 ON t.Id == t0.UsersId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:31:09.7870|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:09.7870|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.7870|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.7870|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:09.7870|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.7870|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:09.7870|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:09.8276|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8276|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 36ms reading results. 
2023-10-24 17:31:09.8276|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8276|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:09.8276|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ScopeEntity>()
    .Include(x => x.Users)
    .FirstOrDefault(x => x.Name == __scopeName_0)' 
2023-10-24 17:31:09.8276|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ScopeEntity.Users'. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScopeEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ScopeEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScopeEntity.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScopeEntity.CreatedAt (DateTime) Required, 1], [Property: ScopeEntity.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: AppUserScopeEntity (Dictionary<string, object>).ScopesId (no field, long) Indexer Required PK FK AfterSave:Throw, 3], [Property: AppUserScopeEntity (Dictionary<string, object>).UsersId (no field, long) Indexer Required PK FK Index AfterSave:Throw, 4] }
                3 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: AppUser.AccessFailedCount (int) Required, 6], [Property: AppUser.BirthDate (DateTime?), 7], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 8], [Property: AppUser.Email (string) MaxLength(256), 9], [Property: AppUser.EmailConfirmed (bool) Required, 10], [Property: AppUser.Firstname (string), 11], [Property: AppUser.Lastname (string), 12], [Property: AppUser.LockoutEnabled (bool) Required, 13], [Property: AppUser.LockoutEnd (DateTimeOffset?), 14], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 15], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 16], [Property: AppUser.PasswordHash (string), 17], [Property: AppUser.Patronymic (string), 18], [Property: AppUser.PhoneNumber (string), 19], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 20], [Property: AppUser.RefreshToken (string), 21], [Property: AppUser.SecurityStamp (string), 22], [Property: AppUser.TwoFactorEnabled (bool) Required, 23], [Property: AppUser.UserName (string) MaxLength(256), 24] }
                4 -> 3
                5 -> 4
                6 -> 5
            SELECT t.Id, t.CreatedAt, t.Name, t0.ScopesId, t0.UsersId, t0.Id, t0.AccessFailedCount, t0.BirthDate, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.Firstname, t0.Lastname, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.Patronymic, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedAt, s.Name
                FROM Scopes AS s
                WHERE s.Name == @__scopeName_0
            ) AS t
            LEFT JOIN 
            (
                SELECT a.ScopesId, a.UsersId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.Firstname, a0.Lastname, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.Patronymic, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RefreshToken, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
                FROM AppUserScopeEntity AS a
                INNER JOIN AspNetUsers AS a0 ON a.UsersId == a0.Id
            ) AS t0 ON t.Id == t0.ScopesId
            ORDER BY t.Id ASC, t0.ScopesId ASC, t0.UsersId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScopeEntity>, 
        MyProger.Micro.Identity.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:09.8364|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__scopeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Name", t0."ScopesId", t0."UsersId", t0."Id", t0."AccessFailedCount", t0."BirthDate", t0."ConcurrencyStamp", t0."Email", t0."EmailConfirmed", t0."Firstname", t0."Lastname", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."Patronymic", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."RefreshToken", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName"
FROM (
    SELECT s."Id", s."CreatedAt", s."Name"
    FROM "Scopes" AS s
    WHERE s."Name" = @__scopeName_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."ScopesId", a."UsersId", a0."Id", a0."AccessFailedCount", a0."BirthDate", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."Firstname", a0."Lastname", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."Patronymic", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
    FROM "AppUserScopeEntity" AS a
    INNER JOIN "AspNetUsers" AS a0 ON a."UsersId" = a0."Id"
) AS t0 ON t."Id" = t0."ScopesId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:31:09.8364|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from skip navigation 'AppUser.Scopes'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.8628|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'AppUserScopeEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.8628|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:31:09.8767|0|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2023-10-24 17:31:09.8767|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:09.8767|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8767|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:31:09.8834|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p21='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p22='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "AppUserScopeEntity" ("ScopesId", "UsersId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "BirthDate" = @p3, "ConcurrencyStamp" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "Firstname" = @p7, "Lastname" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "Patronymic" = @p14, "PhoneNumber" = @p15, "PhoneNumberConfirmed" = @p16, "RefreshToken" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22; 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2023-10-24 17:31:09.8834|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2023-10-24 17:31:09.8952|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:09.8952|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:09.8952|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2023-10-24 17:31:09.8952|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.8952|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUserScopeEntity' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:09.8952|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 2 entities written to the database. 
2023-10-24 17:31:11.2752|0|INFO|MyProger.Micro.Identity.Commands.Login.LoginCommandHandler|Request for login an account - Lavenka1233 
2023-10-24 17:31:11.7189|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:11.7189|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:11.7189|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:11.7189|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:11.7189|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:11.7189|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:11.7189|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."BirthDate", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."Firstname", t."Lastname", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."Patronymic", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."ScopesId", t0."UsersId", t0."Id", t0."CreatedAt", t0."Name"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."BirthDate", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."Firstname", a."Lastname", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."Patronymic", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__name_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a0."ScopesId", a0."UsersId", s."Id", s."CreatedAt", s."Name"
    FROM "AppUserScopeEntity" AS a0
    INNER JOIN "Scopes" AS s ON a0."ScopesId" = s."Id"
) AS t0 ON t."Id" = t0."UsersId"
ORDER BY t."Id", t0."ScopesId", t0."UsersId" 
2023-10-24 17:31:11.7497|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:11.7497|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 22ms reading results. 
2023-10-24 17:31:11.7497|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:11.7497|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'AppUser.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'IdentityDbDevelopment' on server ''. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:31:25.2802|0|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p2='?', @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "RefreshToken" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2; 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'IdentityDbDevelopment' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'IdentityDbDevelopment' on server 'tcp://localhost:5433'. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'IdentityDbDevelopment' on server '' (0ms). 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'AppUser' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-24 17:31:25.2802|0|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
